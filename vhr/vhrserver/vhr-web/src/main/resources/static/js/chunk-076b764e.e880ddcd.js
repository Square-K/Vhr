(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-076b764e"],{"1c4c":function(t,e,n){"use strict";var a=n("9b43"),i=n("5ca1"),o=n("4bf8"),s=n("1fa8"),l=n("33a4"),r=n("9def"),c=n("f1ae"),u=n("27ee");i(i.S+i.F*!n("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,d,m=o(t),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,v=void 0!==h,b=0,_=u(m);if(v&&(h=a(h,f>2?arguments[2]:void 0,2)),void 0==_||p==Array&&l(_))for(e=r(m.length),n=new p(e);e>b;b++)c(n,b,v?h(m[b],b):m[b]);else for(d=_.call(m),n=new p;!(i=d.next()).done;b++)c(n,b,v?s(d,h,[i.value,b],!0):i.value);return n.length=b,n}})},"29d2":function(t,e,n){"use strict";n.r(e);n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("el-button",{attrs:{type:"success",icon:"el-icon-upload2"},on:{click:t.exportData}},[t._v("\n      导出实训表\n    ")]),e("el-upload",{staticStyle:{display:"inline-flex","margin-right":"8px","margin-left":"8px"},attrs:{"show-file-list":!1,"before-upload":t.beforeUpload,"on-success":t.onSuccess,"on-error":t.onError,disabled:t.importDataDisabled,action:t.uploadAction}},[e("el-button",{attrs:{disabled:t.importDataDisabled,type:"success",icon:t.importDataBtnIcon}},[t._v("\n        "+t._s(t.importDataBtnText)+"\n      ")])],1),e("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.saveAllEditedRows}},[t._v("\n      保存实训表\n    ")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.deleteHomeWorks}},[t._v("\n      删除实训表\n    ")])],1),e("div",{staticClass:"scrollable-tabs"},t._l(t.buttonIds,(function(n){return e("el-button",{key:n,staticStyle:{margin:"5px",width:"120px"},attrs:{id:n,type:"primary"},on:{click:function(e){t.handleButtonClick(n),t.updateLastEpNum(n)}}},[t._v("\n      第"+t._s(n)+"期实训成绩表\n    ")])})),1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"956px"},attrs:{data:t.tableData,size:"mini",stripe:"",border:""},on:{"cell-mouse-enter":t.handleCellEnter,"cell-mouse-leave":t.handleCellLeave,"cell-click":t.handleCellClick,"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),t._e(),e("el-table-column",{attrs:{prop:"day",label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.day,callback:function(e){t.$set(n.row,"day",e)},expression:"scope.row.day"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.day))])],1)}}])}),e("el-table-column",{attrs:{prop:"lessonName",label:"课程名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.lessonName,callback:function(e){t.$set(n.row,"lessonName",e)},expression:"scope.row.lessonName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.lessonName))])],1)}}])}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.name,callback:function(e){t.$set(n.row,"name",e)},expression:"scope.row.name"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.name))])],1)}}])}),e("el-table-column",{attrs:{prop:"score",label:"成绩",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.score,callback:function(e){t.$set(n.row,"score",e)},expression:"scope.row.score"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.score))])],1)}}])})],1)],1)},i=[];n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("456d"),n("c5f6"),n("ac6a"),n("6762"),n("2fdb"),n("7514"),n("7c15");function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){r=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(r)throw o}}}}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var r={name:"PraAss",data:function(){return{buttonIds:[],tableData:[{id:1,epNum:1,day:"2023-05-02",lessonName:"html",name:"张三",score:"0",leOrder:1}],loading:!1,editProp:["day","lessonName","name","score"],clickCellMap:{},lessonNames:["html","sql","java基础","js","java高级","hibernate","struts","spring","ssh整合","mybatis","springmvc","ssm整合","bootstrap"],lastEpNum:1,selectedIds:[],importDataDisabled:!1,importDataBtnText:"导入实训表",importDataBtnIcon:"el-icon-download"}},mounted:function(){this.selectMinEpNum(),this.selectAllEpNums(),this.scoreByMinEpNum()},computed:{foodLabel:function(){var t=this;return function(e){return t.options.find((function(t){return t.value===e})).label}},uploadAction:function(){return"/score/import/".concat(this.lastEpNum)}},methods:{handleStatusInput:function(t,e){t.status="T"===e.target.value.toUpperCase()?1:0},handleCellEnter:function(t,e,n,a){var i=e.property;"day"!==i&&"lessonName"!==i&&"name"!==i&&"score"!==i||n.querySelector(".item__txt").classList.add("item__txt--hover")},handleCellLeave:function(t,e,n,a){var i=e.property;this.editProp.includes(i)&&n.querySelector(".item__txt").classList.remove("item__txt--hover")},handleCellClick:function(t,e,n,a){var i=e.property;this.editProp.includes(i)&&(this.saveCellClick(t,n),n.querySelector(".item__txt").style.display="none",n.querySelector(".item__input").style.display="block",n.querySelector("input").focus())},cancelEditable:function(t){t.querySelector(".item__txt").style.display="block",t.querySelector(".item__input").style.display="none"},saveCellClick:function(t,e){var n=t.id;void 0!==this.clickCellMap[n]?this.clickCellMap[n].includes(e)||this.clickCellMap[n].push(e):this.clickCellMap[n]=[e]},save:function(t){var e=this,n=t.id;this.clickCellMap[n].forEach((function(t){e.cancelEditable(t)})),this.clickCellMap[n]=[]},selectMinEpNum:function(){var t=this;this.loading=!0;var e="/score/minEpNum";this.getRequest(e).then((function(e){t.loading=!1,e&&(t.lastEpNum=e)}))},scoreByMinEpNum:function(){var t=this;this.loading=!0;var e="/score/scoreByMinEpNum";this.getRequest(e).then((function(e){t.loading=!1,e&&(t.tableData=e)}))},selectAllEpNums:function(){var t=this,e="/score/allEpNums";this.getRequest(e).then((function(e){e&&(t.buttonIds=e)}))},handleButtonClick:function(t){var e=this,n="/score/"+t;this.getRequest(n).then((function(t){t&&(e.tableData=t)}))},updateLastEpNum:function(t){this.lastEpNum=t},isValidDateFormat:function(t){var e=/^\d{4}-\d{2}-\d{2}$/;return e.test(t)},saveAllEditedRows:function(){var t=this,e=[],n=function(n){if(t.clickCellMap.hasOwnProperty(n)){var a=t.tableData.find((function(t){return t.id===Number(n)}));a&&(t.isValidDateFormat(a.day)?t.lessonNames.includes(a.lessonName)?e.push(a):t.leNameAlert():t.dateAlert())}};for(var a in this.clickCellMap)n(a);this.saveDataToBackend(e)},saveDataToBackend:function(t){var e=this,n="/score/saveEditedRows";this.postRequest(n,t).then((function(t){console.log("Data saved successfully:",t.data),e.handleButtonClick(e.lastEpNum);for(var n=function(){var t=i[a],n=e.tableData.find((function(e){return e.id===Number(t)}));if(n){var s,l=e.clickCellMap[t],r=o(l);try{for(r.s();!(s=r.n()).done;){var c=s.value;e.cancelEditable(c)}}catch(u){r.e(u)}finally{r.f()}}},a=0,i=Object.keys(e.clickCellMap);a<i.length;a++)n()})).catch((function(t){console.error("Error saving data:",t)}))},leNameAlert:function(){var t=this;this.$alert("课程名不符合要求，请重新编写！","课程名",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}})},dateAlert:function(){var t=this;this.$alert("日期格式不符合要求，请重新编写！格式例：2023-12-23","日期",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}})},deleSuccess:function(){var t=this;this.$alert("删除成功！","",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"删除成功"})}})},handleSelectionChange:function(t){this.selectedIds=t.map((function(t){return t.id}))},deleteHomeWorks:function(){var t=this,e="/score/deleteScore";this.postRequest(e,this.selectedIds).then((function(e){t.handleButtonClick(t.lastEpNum),t.deleSuccess()})).catch((function(t){console.error("Error deleting homework:",t)}))},exportData:function(){window.open("/score/export/"+this.lastEpNum,"_parent")},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},onSuccess:function(t,e,n){this.importDataBtnText="导入实训表",this.importDataBtnIcon="el-icon-download",this.importDataDisabled=!1,this.handleButtonClick(this.lastEpNum)},onError:function(t,e,n){this.importDataBtnText="导入实训表",this.importDataBtnIcon="el-icon-download",this.importDataDisabled=!1}}},c=r,u=(n("89a6"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"c594bc2a",null);e["default"]=d.exports},"2fdb":function(t,e,n){"use strict";var a=n("5ca1"),i=n("d2c8"),o="includes";a(a.P+a.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"456d":function(t,e,n){var a=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(a(t))}}))},4941:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("el-upload",{staticStyle:{display:"inline-flex","margin-right":"8px","margin-left":"8px"},attrs:{"show-file-list":!1,"before-upload":t.beforeUpload,"on-success":t.onSuccess,"on-error":t.onError,disabled:t.importDataDisabled,action:t.uploadAction}},[e("el-button",{attrs:{disabled:t.importDataDisabled,type:"success",icon:t.importDataBtnIcon}},[t._v("\n        "+t._s(t.importDataBtnText)+"\n      ")])],1),e("el-button",{attrs:{type:"success",icon:"el-icon-upload2"},on:{click:t.exportData}},[t._v("\n      导出数据\n    ")]),e("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.saveAllEditedRows}},[t._v("\n      保存当前修改\n    ")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-check"},on:{click:t.deleteCourseByWeekNum}},[t._v("\n      删除课程表\n    ")])],1),e("div",{staticClass:"scrollable-tabs"},t._l(t.buttonIds,(function(n){return e("el-button",{key:n,staticStyle:{margin:"5px",width:"120px"},attrs:{id:n,type:"primary"},on:{click:function(e){t.handleButtonClick(n),t.updatelastWeekNum(n)}}},[t._v("\n      第"+t._s(n)+"周课表\n    ")])})),1),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"956px"},attrs:{data:t.courseTable,size:"mini",stripe:"",border:""},on:{"cell-mouse-enter":t.handleCellEnter,"cell-mouse-leave":t.handleCellLeave,"cell-click":t.handleCellClick}},[e("el-table-column",{attrs:{label:"时间/课程"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.section?e("div",[e("div",{staticStyle:{margin:"10px 0"}},[t._v(t._s(n.row.section.num))]),e("div",{staticStyle:{margin:"10px 0"}},[t._v(t._s(n.row.section.time))])]):t._e()]}}])}),e("el-table-column",{attrs:{label:"周一"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.mon?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.mon.courseName,callback:function(e){t.$set(n.row.mon,"courseName",e)},expression:"scope.row.mon.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.mon.courseName))])],1):t._e()]}}])}),e("el-table-column",{attrs:{label:"周二"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.tue?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.tue.courseName,callback:function(e){t.$set(n.row.tue,"courseName",e)},expression:"scope.row.tue.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.tue.courseName))])],1):t._e()]}}])}),e("el-table-column",{attrs:{label:"周三"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.wes?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.wes.courseName,callback:function(e){t.$set(n.row.wes,"courseName",e)},expression:"scope.row.wes.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.wes.courseName))])],1):t._e()]}}])}),e("el-table-column",{attrs:{label:"周四"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.thu?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.thu.courseName,callback:function(e){t.$set(n.row.thu,"courseName",e)},expression:"scope.row.thu.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.thu.courseName))])],1):t._e()]}}])}),e("el-table-column",{attrs:{label:"周五"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.fri?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.fri.courseName,callback:function(e){t.$set(n.row.fri,"courseName",e)},expression:"scope.row.fri.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.fri.courseName))])],1):t._e()]}}])}),e("el-table-column",{attrs:{label:"周六"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.sat?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.sat.courseName,callback:function(e){t.$set(n.row.sat,"courseName",e)},expression:"scope.row.sat.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.sat.courseName))])],1):t._e()]}}])}),e("el-table-column",{attrs:{label:"周日"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.sun?e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.sun.courseName,callback:function(e){t.$set(n.row.sun,"courseName",e)},expression:"scope.row.sun.courseName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.sun.courseName))])],1):t._e()]}}])})],1)],1)])},i=[],o={name:"PraCur",data:function(){return{buttonIds:[],title:"",importDataBtnText:"导入课程表",importDataBtnIcon:"el-icon-download",importDataDisabled:!1,course:[{courseId:"",weekNum:"",courseName:"",courseDate:"",week:"",section:""}],courseTable:[{section:{num:"",time:""},mon:{course:[]},tue:{course:[]},wes:{course:[]},thu:{course:[]},fri:{course:[]},sat:{course:[]},sun:{course:[]}}],loading:!1,lastWeekNum:1,clickCellMap:{},editedRows:[]}},mounted:function(){this.courseByMinWeekNum(),this.selectAllWeekNums(),this.selectMinWeekNum()},computed:{uploadAction:function(){return"/course/import/".concat(this.lastWeekNum)}},methods:{onError:function(t,e,n){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.$alert("导入失败！","",{confirmButtonText:"确定"})},onSuccess:function(t,e,n){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,t?(this.$alert("导入成功","",{confirmButtonText:"确定"}),this.handleButtonClick(this.lastWeekNum)):this.$alert("导入失败","",{confirmButtonText:"确定"})},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},exportData:function(){window.open("/course/export/"+this.lastWeekNum,"_parent")},handleCellEnter:function(t,e,n,a){n.querySelector(".item__txt").classList.add("item__txt--hover")},handleCellLeave:function(t,e,n,a){n.querySelector(".item__txt").classList.remove("item__txt--hover")},handleCellClick:function(t,e,n,a){this.saveCellClick(t,n),n.querySelector(".item__txt").style.display="none",n.querySelector(".item__input").style.display="block",n.querySelector("input").focus()},cancelEditable:function(t){t.querySelector(".item__txt").style.display="block",t.querySelector(".item__input").style.display="none"},saveCellClick:function(t,e){this.editedRows.push(t)},saveAllEditedRows:function(){this.saveDataToBackend(this.editedRows)},saveDataToBackend:function(t){var e=this,n="/course/saveEditedRows";this.postRequest(n,t).then((function(t){e.handleButtonClick(e.lastWeekNum),e.$alert("更新成功！","",{confirmButtonText:"确定"})})).catch((function(t){console.error("Error saving data:",t)}))},deleteCourseByWeekNum:function(){var t=this,e="/course/deleteCourseByWeekNum/"+this.lastWeekNum;this.getRequest(e).then((function(e){t.selectAllWeekNums(),t.courseByMinWeekNum(),t.deleSuccess()}))},deleSuccess:function(){this.$alert("删除成功！","",{confirmButtonText:"确定"})},handleButtonClick:function(t){var e=this,n="/course/courseTable/"+t;this.getRequest(n).then((function(t){t&&(e.courseTable=t)}))},updatelastWeekNum:function(t){this.lastWeekNum=t},selectMinWeekNum:function(){var t=this;this.loading=!0;var e="/course/minWeekNum";this.getRequest(e).then((function(e){t.loading=!1,e&&(t.lastWeekNum=e)}))},courseByMinWeekNum:function(){var t=this;this.loading=!0;var e="/course/courseByMinWeekNum";this.getRequest(e).then((function(e){t.loading=!1,e&&(t.courseTable=e)}))},selectAllWeekNums:function(){var t=this,e="/course/allWeekNums";this.getRequest(e).then((function(e){e&&(t.buttonIds=e)}))}}},s=o,l=(n("fbd4"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"b9494514",null);e["default"]=r.exports},"5df3":function(t,e,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})}))},"5eda":function(t,e,n){var a=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),a(a.S+a.F*o((function(){n(1)})),"Object",s)}},6762:function(t,e,n){"use strict";var a=n("5ca1"),i=n("c366")(!0);a(a.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},7514:function(t,e,n){"use strict";var a=n("5ca1"),i=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),a(a.P+a.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"89a6":function(t,e,n){"use strict";n("e1be")},9016:function(t,e,n){"use strict";n.r(e);n("7f7f");var a=function(){var t=this,e=t._self._c;return e("div",[e("div",[e("el-button",{attrs:{type:"success",icon:"el-icon-upload2"},on:{click:t.exportData}},[t._v("\n          导出作业表\n        ")]),e("el-upload",{staticStyle:{display:"inline-flex","margin-right":"8px","margin-left":"8px"},attrs:{"show-file-list":!1,"before-upload":t.beforeUpload,"on-success":t.onSuccess,"on-error":t.onError,disabled:t.importDataDisabled,action:t.uploadAction}},[e("el-button",{attrs:{disabled:t.importDataDisabled,type:"success",icon:t.importDataBtnIcon}},[t._v("\n            "+t._s(t.importDataBtnText)+"\n          ")])],1),e("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.saveAllEditedRows}},[t._v("\n          保存作业表\n        ")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.deleteHomeWorks}},[t._v("\n          删除作业表\n        ")])],1),e("div",{staticClass:"scrollable-tabs"},t._l(t.buttonIds,(function(n){return e("el-button",{key:n,staticStyle:{margin:"5px",width:"120px"},attrs:{id:n,type:"primary"},on:{click:function(e){t.handleButtonClick(n),t.updateLastEpNum(n)}}},[t._v("\n          第"+t._s(n)+"期作业表\n        ")])})),1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"956px"},attrs:{data:t.tableData,size:"mini",stripe:"",border:""},on:{"cell-mouse-enter":t.handleCellEnter,"cell-mouse-leave":t.handleCellLeave,"cell-click":t.handleCellClick,"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),t._e(),e("el-table-column",{attrs:{prop:"day",label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.day,callback:function(e){t.$set(n.row,"day",e)},expression:"scope.row.day"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.day))])],1)}}])}),e("el-table-column",{attrs:{prop:"lessonName",label:"课程名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.lessonName,callback:function(e){t.$set(n.row,"lessonName",e)},expression:"scope.row.lessonName"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.lessonName))])],1)}}])}),e("el-table-column",{attrs:{prop:"section",label:"章节",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.section,callback:function(e){t.$set(n.row,"section",e)},expression:"scope.row.section"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.section))])],1)}}])}),e("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.name,callback:function(e){t.$set(n.row,"name",e)},expression:"scope.row.name"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.name))])],1)}}])}),e("el-table-column",{attrs:{prop:"status",label:"状态",width:"180"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{staticClass:"item"},[e("el-input",{staticClass:"item__input",attrs:{placeholder:"请输入内容"},model:{value:n.row.status,callback:function(e){t.$set(n.row,"status",e)},expression:"scope.row.status"}}),e("div",{staticClass:"item__txt"},[t._v(t._s(n.row.status))])],1)}}])})],1)],1)},i=[];n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("456d"),n("c5f6"),n("ac6a"),n("6762"),n("2fdb"),n("7514"),n("7c15");function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){r=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(r)throw o}}}}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var r={name:"PraAss",data:function(){return{buttonIds:[],tableData:[{id:1,epNum:1,day:"2023-05-02",lessonName:"html",section:"L1",name:"张三",status:1,leOrder:1}],loading:!1,editProp:["day","lessonName","section","name","status"],clickCellMap:{},lessonNames:["html","sql","java基础","js","java高级","hibernate","struts","spring","ssh整合","mybatis","springmvc","ssm整合","bootstrap"],lastEpNum:1,selectedIds:[],importDataDisabled:!1,importDataBtnText:"导入作业表",importDataBtnIcon:"el-icon-download"}},mounted:function(){this.selectMinEpNum(),this.selectAllEpNums(),this.homeWorksByMinEpNum()},computed:{foodLabel:function(){var t=this;return function(e){return t.options.find((function(t){return t.value===e})).label}},uploadAction:function(){return"/homework/import/".concat(this.lastEpNum)}},methods:{handleStatusInput:function(t,e){t.status="T"===e.target.value.toUpperCase()?1:0},handleCellEnter:function(t,e,n,a){var i=e.property;"day"!==i&&"lessonName"!==i&&"section"!==i&&"name"!==i&&"status"!==i||n.querySelector(".item__txt").classList.add("item__txt--hover")},handleCellLeave:function(t,e,n,a){var i=e.property;this.editProp.includes(i)&&n.querySelector(".item__txt").classList.remove("item__txt--hover")},handleCellClick:function(t,e,n,a){var i=e.property;this.editProp.includes(i)&&(this.saveCellClick(t,n),n.querySelector(".item__txt").style.display="none",n.querySelector(".item__input").style.display="block",n.querySelector("input").focus())},cancelEditable:function(t){t.querySelector(".item__txt").style.display="block",t.querySelector(".item__input").style.display="none"},saveCellClick:function(t,e){var n=t.id;void 0!==this.clickCellMap[n]?this.clickCellMap[n].includes(e)||this.clickCellMap[n].push(e):this.clickCellMap[n]=[e]},save:function(t){var e=this,n=t.id;this.clickCellMap[n].forEach((function(t){e.cancelEditable(t)})),this.clickCellMap[n]=[]},selectMinEpNum:function(){var t=this;this.loading=!0;var e="/homework/minEpNum";this.getRequest(e).then((function(e){t.loading=!1,e&&(t.lastEpNum=e)}))},homeWorksByMinEpNum:function(){var t=this;this.loading=!0;var e="/homework/homeWorksByMinEpNum";this.getRequest(e).then((function(e){t.loading=!1,e&&(t.tableData=e)}))},selectAllEpNums:function(){var t=this,e="/homework/allEpNums";this.getRequest(e).then((function(e){e&&(t.buttonIds=e)}))},handleButtonClick:function(t){var e=this,n="/homework/"+t;this.getRequest(n).then((function(t){t&&(e.tableData=t)}))},updateLastEpNum:function(t){this.lastEpNum=t},isValidDateFormat:function(t){var e=/^\d{4}-\d{2}-\d{2}$/;return e.test(t)},saveAllEditedRows:function(){var t=this,e=[],n=function(n){if(t.clickCellMap.hasOwnProperty(n)){var a=t.tableData.find((function(t){return t.id===Number(n)}));a&&(t.isValidDateFormat(a.day)?t.lessonNames.includes(a.lessonName)?"T"===a.status||"F"===a.status?e.push(a):t.tOrF():t.leNameAlert():t.dateAlert())}};for(var a in this.clickCellMap)n(a);this.saveDataToBackend(e)},saveDataToBackend:function(t){var e=this,n="/homework/saveEditedRows";this.postRequest(n,t).then((function(t){console.log("Data saved successfully:",t.data),e.handleButtonClick(e.lastEpNum);for(var n=function(){var t=i[a],n=e.tableData.find((function(e){return e.id===Number(t)}));if(n){var s,l=e.clickCellMap[t],r=o(l);try{for(r.s();!(s=r.n()).done;){var c=s.value;e.cancelEditable(c)}}catch(u){r.e(u)}finally{r.f()}}},a=0,i=Object.keys(e.clickCellMap);a<i.length;a++)n()})).catch((function(t){console.error("Error saving data:",t)}))},tOrF:function(){var t=this;this.$alert("状态内容必须输入T或者F！","状态",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}})},leNameAlert:function(){var t=this;this.$alert("课程名不符合要求，请重新编写！","课程名",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}})},dateAlert:function(){var t=this;this.$alert("日期格式不符合要求，请重新编写！格式例：2023-12-23","日期",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}})},deleSuccess:function(){var t=this;this.$alert("删除成功！","",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: ".concat(e)})}})},handleSelectionChange:function(t){this.selectedIds=t.map((function(t){return t.id}))},deleteHomeWorks:function(){var t=this,e="/homework/deleteHomeWorks";this.postRequest(e,this.selectedIds).then((function(e){t.handleButtonClick(t.lastEpNum),t.deleSuccess()})).catch((function(t){console.error("Error deleting homework:",t)}))},exportData:function(){window.open("/homework/export/"+this.lastEpNum,"_parent")},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},onSuccess:function(t,e,n){this.importDataBtnText="导入作业表",this.importDataBtnIcon="el-icon-download",this.importDataDisabled=!1,this.handleButtonClick(this.lastEpNum)},onError:function(t,e,n){this.importDataBtnText="导入作业表",this.importDataBtnIcon="el-icon-download",this.importDataDisabled=!1}}},c=r,u=(n("d677"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"c443b3a6",null);e["default"]=d.exports},9748:function(t,e,n){},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),o=n("79e5"),s=n("fdef"),l="["+s+"]",r="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(t,e,n){var i={},l=o((function(){return!!s[t]()||r[t]()!=r})),c=i[t]=l?e(m):s[t];n&&(i[n]=c),a(a.P+a.F*l,"String",i)},m=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),o=n("2d95"),s=n("5dbc"),l=n("6a99"),r=n("79e5"),c=n("9093").f,u=n("11e9").f,d=n("86cc").f,m=n("aa77").trim,p="Number",f=a[p],h=f,v=f.prototype,b=o(n("2aeb")(v))==p,_="trim"in String.prototype,y=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():m(e,3);var n,a,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var s,r=e.slice(2),c=0,u=r.length;c<u;c++)if(s=r.charCodeAt(c),s<48||s>i)return NaN;return parseInt(r,a)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(b?r((function(){v.valueOf.call(n)})):o(n)!=p)?s(new h(y(e)),n,f):y(e)};for(var k,w=n("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;w.length>N;N++)i(h,k=w[N])&&!i(f,k)&&d(f,k,u(h,k));f.prototype=v,v.constructor=f,n("2aba")(a,p,f)}},d677:function(t,e,n){"use strict";n("9748")},e1be:function(t,e,n){},eea5:function(t,e,n){},f1ae:function(t,e,n){"use strict";var a=n("86cc"),i=n("4630");t.exports=function(t,e,n){e in t?a.f(t,e,i(0,n)):t[e]=n}},fbd4:function(t,e,n){"use strict";n("eea5")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-076b764e.e880ddcd.js.map